# PostgreSQL configuration for high load
# This file will be mounted to the container

# Maximum number of connections (support 10 clients Ã— 20 concurrent requests = 200, with buffer = 250)
max_connections = 300

# Memory settings (adjust based on your server RAM)
shared_buffers = 256MB
effective_cache_size = 1GB
work_mem = 16MB
maintenance_work_mem = 128MB

# Query optimization
random_page_cost = 1.1          # For SSD
effective_io_concurrency = 200  # For SSD

# Logging slow queries (queries taking more than 1 second)
log_min_duration_statement = 1000

# Connection settings
listen_addresses = '*'
